# OmniFy Cloud Connect - Environment Configuration
# Copy this file to .env and fill in your actual values

# =============================================================================
# DATABASE CONFIGURATION
# =============================================================================
MONGO_ROOT_USERNAME=admin
MONGO_ROOT_PASSWORD=your_secure_password_here
DB_NAME=omnify_cloud

# =============================================================================
# REDIS CONFIGURATION
# =============================================================================
REDIS_PASSWORD=your_redis_password_here

# =============================================================================
# RABBITMQ CONFIGURATION
# =============================================================================
RABBITMQ_USER=admin
RABBITMQ_PASSWORD=your_rabbitmq_password_here

# =============================================================================
# JWT SECURITY
# =============================================================================
JWT_SECRET_KEY=your_jwt_secret_key_minimum_32_characters_long
JWT_ALGORITHM=HS256

# =============================================================================
# AI SERVICES - OPENAI & AGENTKIT
# =============================================================================
# OpenAI API Key (required for AgentKit fallback)
OPENAI_API_KEY=sk-your_openai_api_key_here

# AgentKit API Key (if available)
AGENTKIT_API_KEY=your_agentkit_api_key_here

# =============================================================================
# LOW COST MODE (COST GUARDRAILS)
# =============================================================================
# Enable low-cost mode to aggressively control API usage and costs
LOW_COST_MODE=false
# Requests per minute per tenant (approximate)
RATE_LIMIT_RPM=120
# Max API requests per tenant per day
QUOTA_REQUESTS_PER_DAY=5000
# Max LLM tokens per tenant per day (estimated)
QUOTA_TOKENS_PER_DAY=250000
# Soft monthly cap in USD; some operations may be blocked once exceeded
COST_MONTHLY_CAP_USD=25
# Cache TTL for expensive GETs (seconds)
CACHE_TTL_SECONDS=600
# Default low-cost LLM model and max tokens
LLM_DEFAULT_MODEL=gpt-4o-mini
LLM_MAX_TOKENS=512
LLM_TOKEN_COST_PER_1K_USD=0.03

# =============================================================================
# PLATFORM INTEGRATIONS
# =============================================================================

# GoHighLevel Integration
GOHIGHLEVEL_API_KEY=your_gohighlevel_api_key_here
GOHIGHLEVEL_LOCATION_ID=your_location_id_here

# Meta Ads Integration
META_APP_ID=your_meta_app_id_here
META_APP_SECRET=your_meta_app_secret_here
META_ACCESS_TOKEN=your_meta_access_token_here

# Google Ads Integration
GOOGLE_ADS_CLIENT_ID=your_google_ads_client_id_here
GOOGLE_ADS_CLIENT_SECRET=your_google_ads_client_secret_here
GOOGLE_ADS_REFRESH_TOKEN=your_google_ads_refresh_token_here
GOOGLE_ADS_DEVELOPER_TOKEN=your_google_ads_developer_token_here

# LinkedIn Ads Integration
LINKEDIN_CLIENT_ID=your_linkedin_client_id_here
LINKEDIN_CLIENT_SECRET=your_linkedin_client_secret_here
LINKEDIN_REDIRECT_URI=http://localhost:8000/auth/linkedin-ads/callback

# TikTok Ads Integration
TIKTOK_APP_ID=your_tiktok_app_id_here
TIKTOK_APP_SECRET=your_tiktok_app_secret_here
TIKTOK_ACCESS_TOKEN=your_tiktok_access_token_here

# YouTube Ads Integration
YOUTUBE_CLIENT_ID=your_youtube_client_id_here
YOUTUBE_CLIENT_SECRET=your_youtube_client_secret_here
YOUTUBE_REDIRECT_URI=http://localhost:8000/auth/youtube/callback

# =============================================================================
# E-COMMERCE INTEGRATIONS
# =============================================================================

# Shopify Integration
SHOPIFY_CLIENT_ID=your_shopify_client_id_here
SHOPIFY_CLIENT_SECRET=your_shopify_client_secret_here
SHOPIFY_REDIRECT_URI=http://localhost:8000/auth/shopify/callback

# Stripe Integration
STRIPE_SECRET_KEY=sk_test_your_stripe_secret_key_here
STRIPE_WEBHOOK_SECRET=whsec_your_stripe_webhook_secret_here

# =============================================================================
# ANALYTICS INTEGRATIONS
# =============================================================================

# Google Analytics GA4
GA4_MEASUREMENT_ID=G-XXXXXXXXXX
GA4_API_SECRET=your_ga4_api_secret_here

# =============================================================================
# MONITORING & OBSERVABILITY
# =============================================================================

# Grafana Configuration
GRAFANA_ADMIN_USER=admin
GRAFANA_ADMIN_PASSWORD=your_grafana_password_here

# =============================================================================
# ENVIRONMENT SETTINGS
# =============================================================================
ENVIRONMENT=development
DEBUG=true
LOG_LEVEL=INFO

# =============================================================================
# SECURITY SETTINGS
# =============================================================================
CORS_ORIGINS=http://localhost:3000,http://localhost:3001
RATE_LIMIT_REQUESTS_PER_MINUTE=100
RATE_LIMIT_BURST=200

# =============================================================================
# FEATURE FLAGS
# =============================================================================
ENABLE_PREDICTIVE_INTELLIGENCE=true
ENABLE_AUTONOMOUS_DECISIONS=false
ENABLE_ADVANCED_ANALYTICS=true
ENABLE_WHITE_LABEL=true

# =============================================================================
# ENTERPRISE OSS COMPONENTS (Self-hosted, $0 runtime cost)
# =============================================================================

# Identity & Access Management (Keycloak)
ENABLE_KEYCLOAK=false
KEYCLOAK_ISSUER_URL=http://keycloak:8080
KEYCLOAK_CLIENT_ID=omnify-api
KEYCLOAK_CLIENT_SECRET=
KEYCLOAK_REALM=omnify
KEYCLOAK_AUDIENCE=
KEYCLOAK_VERIFY_SSL=true
KEYCLOAK_TIMEOUT=30

# Internal Authentication (fallback)
ENABLE_INTERNAL_AUTH=true
JWT_SECRET=your-super-secret-jwt-key-change-in-production
JWT_ALGORITHM=HS256
ACCESS_TOKEN_EXPIRY_MINUTES=60
REFRESH_TOKEN_EXPIRY_DAYS=7

# Policy Engine (OPA)
ENABLE_OPA=false
OPA_URL=http://opa:8181
OPA_POLICY_PACKAGE=omnify.authz
OPA_TIMEOUT=5

# API Gateway (Kong)
ENABLE_KONG=false
KONG_URL=http://kong:8000
KONG_ADMIN_URL=http://kong:8001
KONG_OIDC_PLUGIN=true
KONG_RATE_LIMIT_PER_MINUTE=1000
KONG_REQUEST_SIZE_LIMIT_MB=10

# Workflow Orchestration (Temporal)
ENABLE_TEMPORAL=false
TEMPORAL_HOST=temporal:7233
TEMPORAL_NAMESPACE=omnify
TEMPORAL_TASK_QUEUE=omnify-tasks
TEMPORAL_WORKER_TIMEOUT=300

# ETL/ELT (Airbyte)
ENABLE_AIRBYTE=false
AIRBYTE_URL=http://airbyte:8000
AIRBYTE_WEBHOOK_SECRET=your-airbyte-webhook-secret
AIRBYTE_SYNC_SCHEDULE=0 */6 * * * # Every 6 hours

# Event Streaming (Kafka)
ENABLE_KAFKA=false
KAFKA_BOOTSTRAP_SERVERS=kafka:9092
KAFKA_TOPIC_INTEGRATION_SYNC=integration.sync
KAFKA_TOPIC_MODEL_TRAINED=model.trained
KAFKA_TOPIC_DLQ=dlq.integration

# Business Intelligence (Metabase)
ENABLE_METABASE=false
METABASE_URL=http://metabase:3000
METABASE_EMBEDDING_SECRET=your-metabase-embedding-secret
METABASE_SITE_URL=http://metabase.omnify.local

# =============================================================================
# TESTING CONFIGURATION
# =============================================================================
# Use these for testing without real API keys
USE_MOCK_INTEGRATIONS=false
MOCK_API_DELAY_MS=1000
MOCK_SUCCESS_RATE=0.95
